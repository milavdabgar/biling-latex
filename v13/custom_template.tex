\documentclass[12pt,a4paper]{article}

\usepackage{fontspec}
\usepackage{polyglossia}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{url}
\usepackage{fancyvrb}

% Define tightlist command
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\setmainlanguage{english}
\setotherlanguage{gujarati}

% Set default font to a Unicode font that covers a wide range of characters
\setmainfont{NotoSans}[
    UprightFont = *-Regular,
    BoldFont = *-Bold,
    ItalicFont = *-Italic,
    BoldItalicFont = *-BoldItalic
]

% Set monospace font for code
\setmonofont{NotoSansMono}[
    UprightFont = *-Regular,
    BoldFont = *-Bold
]

% Set up Gujarati font
\newfontfamily\gujaratifont{NotoSansGujarati}[
    Script=Gujarati,
    UprightFont = *-Regular,
    BoldFont = *-Bold
]

% Define a command to switch to Gujarati
\newcommand{\gu}[1]{{\gujaratifont #1}}

% Custom environment for code blocks with Gujarati support
\DefineVerbatimEnvironment{gujaraticode}{Verbatim}{
    commandchars=\\\{\},
    codes={\catcode`\$=3\catcode`\^=7},
    fontsize=\small
}

% Define command for inline code
\newcommand{\InlineCode}[1]{\texttt{#1}}

% Configure Verbatim environment for code blocks
\fvset{
    frame=single,
    numbers=left,
    fontsize=\small
}

\begin{document}

$if(title)$
\title{$title$}
$endif$
$if(author)$
\author{$for(author)$$author$$sep$ \and $endfor$}
$endif$
$if(date)$
\date{$date$}
$endif$

$if(title)$
\maketitle
$endif$

$for(include-before)$
$include-before$

$endfor$
$if(toc)$
$if(toc-title)$
\renewcommand*\contentsname{$toc-title$}
$endif$
\tableofcontents
$endif$

$body$

$for(include-after)$
$include-after$

$endfor$

\end{document}