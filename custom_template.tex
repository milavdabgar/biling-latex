\documentclass[$if(fontsize)$$fontsize$,$endif$$if(lang)$$babel-lang$,$endif$$if(papersize)$$papersize$paper,$endif$$for(classoption)$$classoption$$sep$,$endfor$]{$documentclass$}
\usepackage{fontspec}
\usepackage{polyglossia}
\usepackage{xcolor}
\usepackage{fancyvrb}
\usepackage{longtable,booktabs,array}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{url}
\usepackage{xltxtra,xunicode}

\setmainlanguage{english}
\setotherlanguage{gujarati}

% Set fonts with fallbacks
\setmainfont{Noto Sans}[
    Script=Latin,
    Ligatures=TeX
]
\newfontfamily\gujaratifont{Noto Sans Gujarati}[
    Script=Gujarati,
    Ligatures=TeX
]
\newfontfamily\englishfont{Noto Sans}[
    Script=Latin,
    Ligatures=TeX
]

% Define commands for language switching
\newcommand{\customgujarati}[1]{{\gujaratifont #1}}
\newcommand{\customenlish}[1]{{\englishfont #1}}

% Configure listings for code highlighting
\fvset{
  fontsize=\small,
  frame=single,
  numbers=left,
  numbersep=5pt,
  commandchars=\\\{\}
}

% Define tightlist command
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

$if(highlighting-macros)$
$highlighting-macros$
$endif$

% Title, authors, and date
$if(title)$
\title{$title$}
$endif$
$if(author)$
\author{$for(author)$$author$$sep$ \and $endfor$}
$endif$
$if(date)$
\date{$date$}
$endif$

\begin{document}

$if(title)$
\maketitle
$endif$

$for(include-before)$
$include-before$

$endfor$
$if(toc)$
$if(toc-title)$
\renewcommand*\contentsname{$toc-title$}
$endif$
\tableofcontents
$endif$
$if(lot)$
\listoftables
$endif$
$if(lof)$
\listoffigures
$endif$

$body$

$for(include-after)$
$include-after$

$endfor$
\end{document}
